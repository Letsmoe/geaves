var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{y$:()=>n,KS:()=>s,tz:()=>r,vH:()=>d,bk:()=>u,Ei:()=>c,Zs:()=>p});class n{constructor(e){this.value=e,this.subscribers=[]}next(e){this.value=e;for(const t of this.subscribers)t(e)}subscribe(e){this.subscribers.push(e)}complete(){this.subscribers=new Proxy([],{set:()=>{throw new Error("Observable has been closed.")}})}restore(){this.subscribers=[],this.value=void 0}valueOf(){return this.value}toString(){return this.value.toString()}}class r{constructor(){this.current}}const a=new n;class o{constructor(e,t,n){this.didUpdateOnce=!1,this.didMountCallbacks=[],this.didUpdateCallbacks=[],this.willUnmountCallbacks=[],this.props=e||{},this.props.children=n,this.generator=t,a.next(this),a.restore()}render(){return this.node=this.generator(this.props),this.node}onComponentDidMount(e){this.didMountCallbacks.push(e)}onComponentDidUpdate(e){this.didUpdateCallbacks.push(e)}onComponentWillUnmount(e){this.willUnmountCallbacks.push(e)}didUpdate(){this.didUpdateOnce?this.didUpdateCallbacks.forEach((e=>e(this.node))):(this.didMountCallbacks.forEach((e=>e(this.node))),this.didUpdateOnce=!0)}}function i(e,t){a.next(t),e.appendChild(t.render()),t.didUpdate()}const s={Component:o,Fragment:function(){return document.createDocumentFragment()},make:function(e,t,...a){let s;if("function"==typeof e)return new o(t,e,a);if(s=document.createElement(e),t)for(const[e,a]of Object.entries(t))if("function"==typeof a)s[e.toLowerCase()]=a;else if(a instanceof n)a.subscribe((t=>{s.setAttribute(e,t)})),s.setAttribute(e,a.value);else if(a instanceof r)a.current=s;else if("object"==typeof a)if("style"===e)for(let[e,t]of Object.entries(a))t instanceof n&&t.subscribe((t=>{s.style[e]=t})),null===t?t="none":"number"==typeof t&&(t+="px"),s.style[e]=t;else if("props"===e)for(const[e,t]of Object.entries(a))t instanceof n&&t.subscribe((t=>{s[e]=t})),s[e]=t;else s.setAttribute(e,JSON.stringify(a));else s.setAttribute(e,a.toString());for(const e of a.flat(1/0))if(e instanceof o)i(s,e),e.didUpdate();else if(e instanceof HTMLElement)s.appendChild(e);else if(e instanceof n){let t=document.createTextNode(e.value);e.subscribe((e=>{t.textContent=e})),s.appendChild(t)}else s.appendChild(document.createTextNode(e));return s},render:i};function c(e){const t=new n(e);return[t,e=>(t.next(e),e)]}const l=function e(t,n){if(t===n)return!0;if(!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;for(var r in t)if(t.hasOwnProperty(r)){if(!n.hasOwnProperty(r))return!1;if(t[r]!==n[r]){if("object"!=typeof t[r])return!1;if(!e(t[r],n[r]))return!1}}for(r in n)if(n.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;return!0};function d(e,t=[]){var r=t.map((e=>e.valueOf()));const o=a.value,i=n=>{if(r.length>0){let a=!1;for(let e=0;e<r.length;e++)if(!l(r[e],t[e].valueOf())){a=!0;break}a&&(e(n),r=t.map((e=>e.valueOf())))}else e(n)};o.onComponentDidMount(i),o.onComponentDidUpdate(i),t.forEach((e=>{e instanceof n&&e.subscribe(i)}))}function u(){return new r}function p(e){const t=e=>{for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t};let n=document.createElement("style");document.head.appendChild(n);let r,a=n.sheet,o="";const i={},s=e=>{for(const n in e){let c=e[n];if(null===c)r.style[n]="none";else if("number"==typeof c)r.style[n]=c+"px";else if("string"==typeof c)r.style[n]=c;else{if(n.indexOf("&")>-1){let e=n.replace(/&/g,o);a.insertRule(`.${e} {}`,0),o=e}else{const e=t(10);a.insertRule(`.${e} {}`,0),o=e,i[n]=e}r=a.cssRules[0],s(c)}}};return s(e),i}var f=t.KS,m=t.vH,h=t.Ei,b=function(e){return Math.round(1e3*Math.random())%e},y=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],k=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],v=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],g=1,w=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]={id:g++,label:"".concat(y[b(y.length)]," ").concat(k[b(k.length)]," ").concat(v[b(v.length)])};return t};function C(e){var t=e.selected,n=e.item;return f.make("tr",{className:t?"danger":""},f.make("td",{className:"col-md-1"},n.id),f.make("td",{className:"col-md-4"},f.make("a",{onClick:function(){var t=e.item;(0,e.dispatch)({type:"SELECT",id:t.id})}},n.label)),f.make("td",{className:"col-md-1"},f.make("a",{onClick:function(){var t=e.item;(0,e.dispatch)({type:"REMOVE",id:t.id})}},f.make("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"}))),f.make("td",{className:"col-md-6"}))}function O(e){var t=e.id,n=e.cb,r=e.title;return f.make("div",{className:"col-sm-6 smallpad"},f.make("button",{type:"button",className:"btn btn-primary btn-block",id:t,onClick:n},r))}function N(e){var t=e.dispatch;return f.make("div",{className:"jumbotron"},f.make("div",{className:"row"},f.make("div",{className:"col-md-6"},f.make("h1",null,"React keyed")),f.make("div",{className:"col-md-6"},f.make("div",{className:"row"},f.make(O,{id:"run",title:"Create 1,000 rows",cb:function(){return t({type:"RUN"})}}),f.make(O,{id:"runlots",title:"Create 10,000 rows",cb:function(){return t({type:"RUN_LOTS"})}}),f.make(O,{id:"add",title:"Append 1,000 rows",cb:function(){return t({type:"ADD"})}}),f.make(O,{id:"update",title:"Update every 10th row",cb:function(){return t({type:"UPDATE"})}}),f.make(O,{id:"clear",title:"Clear",cb:function(){return t({type:"CLEAR"})}}),f.make(O,{id:"swaprows",title:"Swap Rows",cb:function(){return t({type:"SWAP_ROWS"})}})))))}f.render(document.body,f.make((function(e){var t=h(w(1e4)),n=t[0],r=t[1],a=function(e){if("RUN"===e.type){var t=performance.now();r(w(1e4).map((function(e){return f.make(C,{key:e.id,item:e,dispatch:a})}))),console.log(performance.now()-t)}};return m((function(){console.log("did Update")})),f.make("div",{className:"container"},f.make(N,{dispatch:a}),f.make("table",{className:"table table-hover table-striped test-data"},f.make("tbody",null,n)),f.make("span",{className:"preloadicon glyphicon glyphicon-remove","aria-hidden":"true"}))}),null));